<h2 mat-dialog-title>{{ dialogTitle }}</h2>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <!-- Titel -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Titel</mat-label>
    <input matInput formControlName="title" required>
  </mat-form-field>

  <!-- Startdatum und Startzeit -->
  <div class="row">
    <mat-form-field appearance="fill" class="half-width">
      <mat-label>Startdatum</mat-label>
      <input matInput [matDatepicker]="startPicker" formControlName="startDate" required>
      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="fill" class="half-width">
      <mat-label>Startzeit</mat-label>
      <input matInput type="time" formControlName="startTime" required>
    </mat-form-field>
  </div>

  <!-- Enddatum und Endzeit -->
  <div class="row">
    <mat-form-field appearance="fill" class="half-width">
      <mat-label>Enddatum</mat-label>
      <input matInput [matDatepicker]="endPicker" formControlName="endDate" required>
      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="fill" class="half-width">
      <mat-label>Endzeit</mat-label>
      <input matInput type="time" formControlName="endTime" required>
    </mat-form-field>
  </div>

  <!-- Beschreibung und Ort -->
  <div class="row">
    <mat-form-field appearance="fill" class="half-width">
      <mat-label>Beschreibung</mat-label>
      <input matInput formControlName="description">
    </mat-form-field>
    <mat-form-field appearance="fill" class="half-width">
      <mat-label>Ort</mat-label>
      <input matInput formControlName="location">
    </mat-form-field>
  </div>

  <!-- Aktionen -->
  <div mat-dialog-actions align="end">
    <button mat-button type="button" (click)="onCancel()">Abbrechen</button>
    <!-- Löschen-Schaltfläche nur im Edit-Modus -->
    @if(action === 'edit'){
      <button mat-raised-button color="warn" type="button" (click)="onDelete()">Löschen</button>
    }
    <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">Speichern</button>
  </div>
</form>
